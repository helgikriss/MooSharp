@model MooSharp.Models.ViewModels.AssignmentDetailsViewModel

@using MooSharp.Models.ViewModels

@{
    ViewBag.Title = "AssignmentDetails";
}
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<h1> @Model.Title</h1>
<hr />

<h4>Course ID: @Model.CourseID</h4>
<h4>Assignment Description</h4>
<p>@Model.Description</p>
<h4>Milestones</h4>
@{ int id = 1; }
<div class="panel-group" id="accordion">
    @foreach (MilestoneViewModel milestone in Model.Milestones) {
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" data-target="#collapse@(id)">@(id + ". " + milestone.Title + " (" + milestone.Weight + "%)")</a>
                </h4>
            </div>

            <div id="collapse@(id)" class="panel-collapse collapse">
                <div class="panel-body">
                    <p>@milestone.Description</p>
                    @using (Html.BeginForm("UploadSubmission", "Submissions", FormMethod.Post, new { @class = "form form-horizontal", role = "form", enctype = "multipart/form-data" })) {
                        <label for="file">Filename:</label>
                        <input type="file"name="file" id="file" /> <br />
                        <input type="submit" class="btn btn-default" value="Submit" />
                        <input name="ID" id="ID" value="@Model.ID" hidden />
                        <input name="CourseID" id="CourseID" value="@Model.CourseID" hidden />
                        <input name="MilestoneID" id="MilestoneID" value="@milestone.ID" hidden />
                    }
                </div>
            </div>
        </div>
        id++;
    }
</div>
